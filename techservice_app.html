<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechService - Sistema Principal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Menu Lateral */
        .sidebar {
            width: 250px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            position: relative;
        }

        .sidebar.collapsed {
            width: 70px;
        }

        .sidebar-header {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sidebar.collapsed .sidebar-header h2 {
            display: none;
        }

        .sidebar h2 {
            color: white;
            font-size: 1.5rem;
        }

        .user-info {
            color: white;
            font-size: 0.8rem;
            opacity: 0.8;
            margin-top: 5px;
        }

        .sidebar.collapsed .user-info {
            display: none;
        }

        .toggle-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 10px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .toggle-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .menu-item {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .menu-item:hover {
            background: rgba(255, 255, 255, 0.1);
            border-left-color: #4CAF50;
        }

        .menu-item.active {
            background: rgba(255, 255, 255, 0.2);
            border-left-color: #4CAF50;
        }

        .menu-item i {
            font-size: 1.2rem;
            width: 30px;
            text-align: center;
            margin-right: 15px;
        }

        .sidebar.collapsed .menu-item span {
            display: none;
        }

        .sidebar.collapsed .menu-item {
            padding: 15px;
            justify-content: center;
        }

        .sidebar.collapsed .menu-item i {
            margin-right: 0;
        }

        .logout-btn {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .sidebar.collapsed .logout-btn {
            padding: 10px;
            width: 40px;
        }

        .sidebar.collapsed .logout-btn span {
            display: none;
        }

        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Conteúdo Principal */
        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .page-header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .page-title {
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-subtitle {
            color: #666;
            font-size: 1.1rem;
        }

        .welcome-message {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid #4CAF50;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            color: #2e7d32;
        }

        /* Cards de Resumo */
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(151px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .summary-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 10px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .summary-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .summary-card h3 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .summary-card p {
            color: #666;
            font-size: 1rem;
        }

        .pendente { color: #ff6b6b; }
        .em_andamento { color: #ffd93d; }
        .concluido { color: #6bcf7f; }

        /* Botões de Ação */
        .action-buttons {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: white;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb, #f5576c);
        }
        .btn-tertiary {
            background: linear-gradient(135deg, #b7dcfd, #2ca0ec);
        }

        .btn-quaternary {
            background: linear-gradient(135deg, #43e97b, #38f9d7);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        /* Seção de Preventivas */
        .preventivas-section {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .section-divider {
            height: 2px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            margin: 30px 0;
            border-radius: 1px;
        }

        .filiais-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .filial-card {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .filial-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .filial-card h4 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.1rem;
            text-align: center;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }

        .maquina-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
            font-size: 0.9rem;
        }

        .maquina-item:last-child {
            border-bottom: none;
        }

        .patrimonio {
            font-weight: 600;
            color: #333;
        }

        .dias-restantes {
            background: #d1ffb3;
            color: #28790f;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .dias-restantes.urgente {
            background: #ffcdd2;
            color: #d32f2f;
        }
        .dias-restantes.alerta {
            background: #ffecb3;
            color: #f57f17;
        }
/* lista usuario */

/* --- Estilo do Card Principal --- */
.usuario-item {
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 16px;
    background-color: #fff;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    display: flex;
    flex-direction: column;
    gap: 15px; /* Espaço entre as seções */
}

/* --- Seção do Cabeçalho --- */
.usuario-cabecalho {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.nome-completo {
    font-size: 1.2rem;
    color: #333;
}

.perfil-info {
    display: flex;
    align-items: center;
    margin-top: 5px;
    font-size: 0.9rem;
}

.perfil-info i {
    margin-right: 5px;
}
/* Lista de máquinas */
        .maquinas-container {
            background: white;
            border-radius: 15px;
            padding: 0;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .maquinas-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            padding: 20px;
        }

        .maquinas-header h3 {
            color: white;
            margin: 0;
        }

        .maquinas-list {
            padding: 20px;
        }

        .maquina-item {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: stretch;
        }
     
        .maquina-item:hover {
            background: #e3f2fd;
            border-color: #2196f3;
            transform: translateY(-2px);
        }

        .patrimonio-dias{
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        

        /* --- Estilo do Card Principal --- */


/* --- Cabeçalho --- */
.maquina-cabecalho {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
}



.maquina-patrimonio {
    font-size: 1.2rem;
    color: #333;
}

.maquina-status {
    display: flex;
    align-items: center;
    margin-top: 4px;
}

.maquina-status i {
    margin-right: 5px;
}

/* --- Detalhes em Grid Responsivo --- */
.maquina-detalhes {
    display: grid;
    /* Cria colunas automáticas de no mínimo 220px */
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    
    padding-top: 16px;
    border-top: 1px solid #f0f0f0;
}

.maquina-detalhes p {
    margin: 0;
    font-size: 0.9rem;
    color: #555;
}

/* Classe para o item ocupar a linha toda */
.detalhe-full {
    grid-column: 1 / -1;
    font-weight: 500;
}
/* Lista de lojas */
        .lojas-container {
            background: white;
            border-radius: 15px;
            padding: 0;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .lojas-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            padding: 20px;
        }

        .lojas-header h3 {
            color: white;
            margin: 0;
        }

        .lojas-list {
            padding: 20px;
        }

        .loja-item {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            position: relative;
        }

        .loja-item:hover {
            background: #e3f2fd;
            border-color: #2196f3;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .loja-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .loja-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .loja-title h4 {
            color: #333;
            font-size: 1.2rem;
            margin: 0;
        }

        .codigo-badge {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status-badge {
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .loja-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .info-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
            font-size: 0.95rem;
        }

        .info-item i {
            color: #667eea;
            width: 16px;
            text-align: center;
        }




 /*filtro lojas - maquinas*/       
  .filter-container {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
/* --- Seção de Detalhes (lado a lado) --- */
.usuario-detalhes {
    display: flex;
    flex-wrap: wrap; /* Permite que os itens quebrem para a linha de baixo em telas pequenas */
    justify-content: space-between;
    gap: 15px; /* Espaçamento entre os itens */
    border-top: 1px solid #f0f0f0;
    padding-top: 15px;
}

.usuario-detalhes p {
    margin: 0;
    color: #555;
}

/*sinebar-configurações*/

.submenu-config{
    
    background: rgba(255, 255, 255, 0.05);
    margin-left: 7px;
}

/* --- Seção dos Botões --- */
.usuario-acoes, .maquina-acoes, .loja-acoes,.preventiva-acoes {
    
    display: flex;

}

.chamado-acoes {
    display: flex;
    align-items: center;
    padding: 10px;
}

.btn_opcoes {
    padding: 6px 12px;
    font-size: 0.8rem;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    margin-left: 5px;
}


.btn_opcoes i {
    margin-right: 5px;
}

.btn-editar { background-color: #2196F3; }
.btn-senha, .btn-preventiva, .btn-relatorio ,.btn-status  { background-color: #FF9800; }
.btn-excluir { background-color: #f44336; }
.btn-chamado, .btn-maquina { background-color: #4CAF50; }
.btn-cancelar{
    background: #ccc; color: #666; 
    margin-right: 10px;

}


        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .modal-title {
            font-size: 1.8rem;
            color: #333;
        }

        .close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
            padding: 5px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .close:hover {
            background: #f0f0f0;
            color: #333;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-control {
            width: 100%;
            padding: 1px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .file-upload {
            border: 2px dashed #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-upload:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }

        .filter-section {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .chamado-item, .preventiva-item  {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .chamado-item:hover, .preventiva-item:hover  {
            background: #e3f2fd;
            border-color: #2196f3;
        }

        .chamado-header, .chamado-item .chamado-desctec, .chamado-rodape, .preventiva-header, .preventiva-item .preventiva-desctec, .preventiva-rodape {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .chamado-header, .chamado-item .chamado-desctec, .preventiva-header, .preventiva-item .preventiva-desctec {
            margin-bottom: 10px;
        }

        .chamado-header .status-badge, .preventiva-header .status-badge  {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .chamado-rodape div, .preventiva-rodape div {
            display: flex;
        }

        .chamado-rodape .btn, .preventiva-rodape .btn {
            padding: 5px 10px;
            margin-left: 5px;
        }



        
        .status-pendente {
            background: #ffebee;
            color: #c62828;
        }

        .status-em_andamento {
            background: #fffee0;
            color: #000000;
        }

        .status-concluido {
            background: #e8f5e8;
            color: #2e7d32;
        }

        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 50px;
            color: #666;
        }
        .chamado-item, .preventiva-item  {
            display: flex;
            gap: 15px;
            align-items: stretch;
        }

        .chamado-conteudo, .preventiva-conteudo  {
            flex: 1;
            /* Mantém todo o conteúdo atual */
        }

        .chamado-pdf-wrapper, .preventiva-pdf-wrapper  {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            min-width: 60px;
        }

        .btn-pdf {
            
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s;
        }

        .btn-pdf:hover {
            background: #ee5a52;
            transform: scale(1.1);
        }





        @media (max-width: 1200px) {
            .filiais-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 70px;
            }
            
            .filiais-grid {
                grid-template-columns: 1fr;
            }
            
            .summary-cards {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
             /* Torna a sidebar fixa e sobreposta */
            .sidebar {
                position: fixed;
                top: 0;
                left: 0;
                height: 100vh;
                z-index: 999;
                box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
                background: mediumslateblue;
            }
            
            /* Quando collapsed, mantém a largura reduzida */
            .sidebar.collapsed {
                width: 70px;
            }
            
            /* Quando NÃO collapsed, ocupa largura total ou mantém 250px */
            .sidebar:not(.collapsed) {
                width: 250px;
            }
            
            /* Ajusta o conteúdo principal para não ficar embaixo da sidebar collapsed */
            .main-content {
                margin-left: 70px; /* Espaço para a sidebar collapsed */
            }
            
            
        }

        .hidden {
            display: none;
        }

        .unauthorized {
            
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
            color: white;
        }

        .unauthorized h1 {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .unauthorized p {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <!-- Verificação de Autorização (Comentado para teste) -->
    
    <div id="unauthorized" class="unauthorized" style="display: none;">
        <h1><i class="fas fa-lock"></i></h1>
        <h1>Acesso Negado</h1>
        <p>Você precisa estar logado para acessar o sistema</p>
        <button class="btn btn-primary" onclick="redirectToLogin()">
            <i class="fas fa-sign-in-alt"></i>
            Fazer Login
        </button>
    </div>
    

    <div class="container" id="main-system">
        <!-- Menu Lateral -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div>
                    <h2>TechService</h2>
                    <div class="user-info" id="user-info">
                        <i class="fas fa-user"></i>
                        <span id="username">Usuário Teste</span>
                    </div>
                </div>
                <button class="toggle-btn" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <nav>
                <div class="menu-item active" onclick="showPage('chamados')">
                    <i class="fas fa-bullhorn"></i>
                    <span>Chamados</span>
                </div>
                <div class="menu-item" onclick="showPage('preventivas')">
                    <i class="fas fa-hard-hat"></i>
                    <span>Preventivas</span>
                </div>
                <div class="menu-item" onclick="showPage('transferencias')">
                    <i class="fas fa-hard-hat"></i>
                    <span>Transferências</span>
                </div>
                <div class="menu-item">
                    <i class="fas fa-clipboard-list"></i>
                    <span>Relatórios</span>
                </div>
                <div class="menu-item" onclick="toggleConfiguracao()">
                    <i class="fas fa-cog"></i>
                    <span>Configurações</span>
                    <i class="fas fa-chevron-right" id="config-arrow" style="margin-left: auto; transition: transform 0.3s ease;"></i>
                </div>
                
                <!-- Submenu de Configurações -->
                <div id="submenu-config" style="display: none;">
                    <div class="menu-item" style="padding-left: 40px;" onclick="showPage('lojas')">
                        <i class="fas fa-store"></i>
                        <span>Lojas</span>
                    </div>
                    <div class="menu-item" style="padding-left: 40px;" onclick="showPage('maquinas')">
                        <i class="fas fa-desktop"></i>
                        <span>Máquinas</span>
                    </div>
                    <div class="menu-item" style="padding-left: 40px;" onclick="showPage('usuarios')">
                        <i class="fas fa-users"></i>
                        <span>Usuários</span>
                    </div>
                </div>
            </nav>

            <button class="logout-btn" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
                <span>Sair</span>
            </button>
        </div>

        <!-- Conteúdo Principal -->
        <div class="main-content">
            <!-- Página de Chamados -->
            <div id="chamados-page">
                <div class="page-header">
                    <div class="welcome-message">
                        <strong>Bem-vindo ao sistema!</strong> Você está logado como <span id="welcome-user">Usuário Teste</span>
                    </div>
                    <h1 class="page-title">Centro de Chamados</h1>
                    <p class="page-subtitle">Gerencie todos os atendimentos de máquinas das filiais</p>
                </div>

                <!-- Loading state -->
                <div id="chamados-loading" class="loading hidden">
                    <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-right: 15px;"></i>
                    Carregando dados dos chamados...
                </div>

                <!-- Cards de Resumo -->
                <div class="summary-cards" id="summary-section">
                    <div class="summary-card">
                        <h3 class="pendente" id="pendentes-count"></h3>
                        <p>Pendentes</p>
                    </div>
                    <div class="summary-card">
                        <h3 class="andamento" id="andamento-count"></h3>
                        <p>Em Andamento</p>
                    </div>
                    <div class="summary-card">
                        <h3 class="concluido" id="concluidos-count"></h3>
                        <p>Concluídos</p>
                    </div>
                    <div class="summary-card">
                        <h3 class="pendente" id="aguardando-count"></h3>
                        <p>Aguardando Peças</p>
                    </div>
                    <div class="summary-card">
                        <h3 class="andamento" id="pausados-count"></h3>
                        <p>Pausados</p>
                    </div>
                    <div class="summary-card">
                        <h3 class="concluido" id="cancelados-count"></h3>
                        <p>Cancelados</p>
                    </div>
                    
                </div>

                <!-- Botões de Ação -->
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="openModal('novo-chamado')">
                        <i class="fas fa-plus"></i>
                        Abrir Chamado
                    </button>
                    <button class="btn btn-secondary" onclick="openModal('acompanhar-chamados')">
                        <i class="fas fa-list"></i>
                        Acompanhar Chamados
                    </button>
                    
                </div>
            </div>

            <!-- Página de Preventivas -->
            <div id="preventivas-page" class="hidden">
                <div class="page-header">
                    <h1 class="page-title">Manutenções Preventivas</h1>
                    <p class="page-subtitle">Acompanhe as manutenções programadas por filial</p>
                </div>

                <!-- Loading state -->
                <div id="preventivas-loading" class="loading hidden">
                    <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-right: 15px;"></i>
                    Carregando dados das preventivas...
                </div>

                <!-- Botões de Ação -->
                
                <div class="action-buttons">
                    <button class="btn btn-primary"  onclick="openModal('preventiva-maquina')">
                        <i class="fas fa-wrench"></i>
                        Preventivas Máquinas
                    </button>
                
                    <button class="btn btn-secondary" onclick="openModal('acompanhar-preventivas')">
                        <i class="fas fa-list"></i>
                        Acompanhar Preventivas
                    </button>
                </div>
                <div class="section-divider"></div>

                <!-- Seção de Preventivas -->
                <div class="preventivas-section" id="preventivas-section">
                    <h3>Máquinas Próximas da Preventiva</h3>
                    <div class="filiais-grid" id="filiais-grid">
                        <!-- Dados serão carregados via API -->
                    </div>
                </div>
            </div>

            <!-- Página de Lojas -->
            <div id="lojas-page" class="hidden">
                <div class="page-header">
                    <h1 class="page-title">Gerenciar Lojas</h1>
                    <p class="page-subtitle">Cadastre e gerencie as filiais do sistema</p>
                </div>
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="openModal('nova-loja')">
                        <i class="fas fa-plus"></i>
                        Nova Loja
                    </button>
                </div>
                <div style="background: white; padding: 20px; border-radius: 10px; margin-top: 20px;">
                    <!-- Lista de Lojas -->
                    <div class="lojas-container">
                        <div class="lojas-header">
                            <h3><i class="fas fa-store" style="margin-right: 10px;"></i>Lista de Lojas</h3>
                        </div>
                        
                        <!-- Loading para lojas -->
                        <div id="lojas-loading" class="loading hidden">
                            <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-right: 15px;"></i>
                            Carregando lojas...
                        </div>

                        <div id="lojas-list" class="lojas-list">
                            <!-- Lista será carregada via JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Página de Máquinas -->
            <div id="maquinas-page" class="hidden">
                <div class="page-header">
                    <h1 class="page-title">Gerenciar Máquinas</h1>
                    <p class="page-subtitle">Cadastre e gerencie os equipamentos por filial</p>
                </div>
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="openModal('nova-maquina')">
                        <i class="fas fa-plus"></i>
                        Nova Máquina
                    </button>
                </div>
                <div style="background: white; padding: 20px; border-radius: 10px; margin-top: 20px;">
                    <!-- Filtro por loja -->
                    <div class="filter-container">
                        <select id="filtro-loja-maquinas" class="form-control" style="width: 300px;" onchange="filterMaquinas()">
                            <option value="">Todas as Lojas</option>
                            <!-- Opções carregadas via API -->
                        </select>
                    </div>

                        <!-- Lista de Máquinas -->
                    <div class="maquinas-container">
                        <div class="maquinas-header">
                            <h3>Lista de Máquinas</h3>
                        </div>
                        
                        <!-- Loading para máquinas -->
                        <div id="maquinas-loading" class="loading hidden">
                            <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-right: 15px;"></i>
                            Carregando máquinas...
                        </div>

                        <div id="maquinas-list" class="maquinas-list">
                            <!-- Lista será carregada via JavaScript -->
                        </div>
                    </div>

                </div>
            </div>

            <!-- Página de Usuários -->
            <div id="usuarios-page" class="hidden">
                <div class="page-header">
                    <h1 class="page-title">Gerenciar Usuários</h1>
                    <p class="page-subtitle">Cadastre e gerencie usuários do sistema</p>
                </div>
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="openModal('novo-usuario')">
                        <i class="fas fa-plus"></i>
                        Novo Usuário
                    </button>
                </div>
                <div style="background: white; padding: 20px; border-radius: 10px; margin-top: 20px;">
                    <!-- Lista de Usuários -->
                    <div class="usuarios-container" >
                        <div class="usuarios-header">
                            <h3>Lista de Usuários</h3>
                        </div>
                        
                        <!-- Loading para usuários -->
                        <div id="usuarios-loading" class="loading hidden">
                            <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-right: 15px;"></i>
                            Carregando usuários...
                        </div>

                        <div id="usuarios-list" class="usuarios-list">
                            <!-- Lista será carregada via JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- Página de Transferências -->
            <div id="transferencias-page"  class="hidden">
                <div class="page-header">
                    <h1 class="page-title">Centro de Transferências</h1>
                    <p class="page-subtitle">Gerencie as transferências de equipamentos entre filiais</p>
                </div>

                <!-- Loading state -->
                <div id="transferencias-loading" class="loading hidden">
                    <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-right: 15px;"></i>
                    Carregando dados das transferências...
                </div>

                <!-- Cards de Resumo -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px;">
                    <!-- Seção Consertos -->
                    <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="color: #333; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-tools" style="color: #f39c12;"></i>
                            Transferências para Conserto
                        </h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                            <div class="summary-card" style="margin: 0;">
                                <h3 class="conserto" id="conserto-andamento-count">0</h3>
                                <p>Em Andamento</p>
                            </div>
                            <div class="summary-card" style="margin: 0;">
                                <h3 style="color: #27ae60;" id="conserto-concluido-count">0</h3>
                                <p>Concluídos</p>
                            </div>
                            <div class="summary-card" style="margin: 0;">
                                <h3 class="perda-total" id="perda-total-count">0</h3>
                                <p>Perda Total</p>
                            </div>
                        </div>
                    </div>

                    <!-- Seção Empréstimos -->
                    <div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="color: #333; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-handshake" style="color: #3498db;"></i>
                            Transferências Temporárias (Empréstimos)
                        </h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                            <div class="summary-card" style="margin: 0;">
                                <h3 class="emprestimo" id="emprestimo-ativo-count">0</h3>
                                <p>Ativos</p>
                            </div>
                            <div class="summary-card" style="margin: 0;">
                                <h3 style="color: #27ae60;" id="emprestimo-devolvido-count">0</h3>
                                <p>Devolvidos</p>
                            </div>
                            <div class="summary-card" style="margin: 0;">
                                <h3 class="definitivo" id="definitivo-count">0</h3>
                                <p>Definitivos</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Botões de Ação -->
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="openModal('nova-transferencia')">
                        <i class="fas fa-exchange-alt"></i>
                        Nova Transferência
                    </button>
                    <button class="btn btn-secondary" onclick="openModal('listar-transferencias')">
                        <i class="fas fa-list"></i>
                        Ver Transferências
                    </button>
                </div>
            </div>

     
        </div>
    </div>

    <!-- Modal Novo Chamado -->
    <div id="novo-chamado" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Abrir Novo Chamado</h2>
                <button class="close" onclick="closeModal('novo-chamado')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="form-novo-chamado" onsubmit="handleNovoChamado(event)">
                <div class="form-group">
                    <label for="filial-chamado">Filial</label>
                    <select class="form-control" id="filial-chamado" required>
                        <option value="">Selecione a filial</option>
                         <!--Opções serão carregadas via API -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="select_patrimonio">Patrimônio</label>
                    <select class="form-control" id="select_patrimonio"  required>
                        <option value="">Selecione o patrimônio</option>
                        <!-- Opções serão carregadas via API -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="serie">Número de Série</label>
                    <input type="text" class="form-control" id="serie" placeholder="Ex: SER123456" readonly required>
                </div>
                <div class="form-group">
                    <label for="problema">Descrição do Problema</label>
                    <textarea class="form-control" id="problema" rows="4" placeholder="Descreva detalhadamente o problema encontrado..." required></textarea>
                </div>
                <div class="form-group">
                    <label for="categoria">Categoria</label>
                    <select class="form-control" id="categoria" required>
                        <option value="">Selecione a categoria</option>
                        <option value="energia">Energia</option>
                        <option value="colisao">Colisão</option>
                        <option value="roda">Roda</option>
                        <option value="vazamento">Vazamento</option>
                        <option value="painel">Painel</option>
                        
                    </select>
                </div>
                <div class="form-group">
                    <label for="prioridade">Prioridade</label>
                    <select class="form-control" id="prioridade" required>
                        <option value="">Selecione a prioridade</option>
                        <option value="baixa">Baixa</option>
                        <option value="media">Média</option>
                        <option value="alta">Alta</option>
                    </select>
                </div>
                <div class="form-group">
                    <label >Anexar Fotos</label>
                    <div class="file-upload" onclick="document.getElementById('fotos').click()" >
                        <i class="fas fa-camera" style="font-size: 2rem; color: #ccc; margin-bottom: 10px;"></i>
                        <p>Clique para adicionar fotos</p>
                        <input type="file" id="fotos" multiple accept="image/*" style="display: none;">
                    </div>
                </div>
                <div id="listaFotos"></div>
                <div id="resultado"></div>
                <div class="chamado-acoes">
                    <button type="button" class="btn btn-cancelar"  onclick="closeModal('novo-chamado')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        Abrir Chamado
                    </button>
                </div>
            </form>
        </div>
    </div>

<!-- Modal Concluir Chamado -->
    <div id="concluir-chamado" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Concluir Chamado</h2>
                <button class="close" onclick="closeModal('concluir-chamado')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="form-concluir-chamado" onsubmit="handleConcluirChamado(event)">

                <!-- ID oculto da loja -->
                <input type="hidden" id="id-conclusao-chamado">
                <div class="form-group">
                    <label for="conclusao-filial">Filial</label>
                    <input type="text" class="form-control" id="conclusao-filial" readonly required>
                </div>
                
                <div class="form-group">
                    <label for="conclusao-patrimonio">Patrimônio</label>
                    <input type="text" class="form-control" id="conclusao-patrimonio" placeholder="num patrimonio" readonly required>
                </div>
                <div class="form-group">
                    <label for="conclusao-serie">Número de Série</label>
                    <input type="text" class="form-control" id="conclusao-serie" placeholder="Ex: SER123456" readonly required>
                </div>
                <div class="form-group">
                    <label for="conclusao-problema">Descrição do Problema</label>
                    <textarea class="form-control" id="conclusao-problema" rows="4" placeholder="Detalhadamente o problema encontrado..." required readonly></textarea>
                </div>
                <div class="form-group">
                    <label for="conclusao-solucao">Solução do Problema</label>
                    <textarea class="form-control" id="conclusao-solucao" rows="4" placeholder="Solução do problema encontrado..." required></textarea>
                </div>
                                
                <div class="form-group">
                    <label for="conclusao-fotos" >Anexar Fotos</label>
                    <div class="file-upload" onclick="document.getElementById('conclusao-fotos').click()">
                        <i class="fas fa-camera" style="font-size: 2rem; color: #ccc; margin-bottom: 10px;"></i>
                        <p>Clique para adicionar fotos</p>
                        <input type="file" id="conclusao-fotos" multiple accept="image/*" style="display: none;">
                    </div>
                </div>
                <div id="listaFotos_conclusao"></div>
                <div id="resultado_conclusao"></div>

                <div class="chamado-acoes">
                    <button type="button" class="btn btn-cancelar"  onclick="closeModal('concluir-chamado')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        Abrir Chamado
                    </button>
                </div>
            </form>
        </div>
    </div>



    <!-- Modal Acompanhar Chamados -->
    <div id="acompanhar-chamados" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Acompanhar Chamados</h2>
                <button class="close" onclick="closeModal('acompanhar-chamados')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="filter-section">
                <select class="form-control" id="filter-filial" style="width: auto;" >
                    <option value="">Todas as Filiais</option>
                    <!-- Opções serão carregadas via API -->
                </select>
                <select class="form-control" id="filter-status" style="width: auto;" >
                    <option value="">Todos os Status</option>
                    <option value="pendente">Pendente</option>
                    <option value="em_andamento">Em Andamento</option>
                    <option value="aguardando_peca">Aguardando Peça</option>
                    <option value="pausado">Pausado</option>
                    <option value="cancelado">Cancelado</option>
                    <option value="concluido">Concluído</option>
                </select>
            </div>

            <div style="max-height: 400px; overflow-y: auto;" id="chamados-list">
                <!-- Lista será carregada via API -->
            </div>
        </div>
    </div>

    <div id="acompanhar-preventivas" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Acompanhar Preventivas</h2>
                <button class="close" onclick="closeModal('acompanhar-preventivas')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="filter-section">
                <select class="form-control" id="filter-filial-preventivas" style="width: auto;" >
                    <option value="">Todas as Filiais</option>
                    <!-- Opções serão carregadas via API -->
                </select>
                <select class="form-control" id="filter-status-preventivas" style="width: auto;" >
                    <option value="">Todos os Status</option>
                    <option value="programada">Programada</option>
                    <option value="cancelada">Cancelada</option>
                    <option value="em_andamento">Em Andamento</option>
                    <option value="concluida">Concluída</option>
                </select>
            </div>

            <div style="max-height: 400px; overflow-y: auto;" id="preventivas-list">
                <!-- Lista será carregada via API -->
            </div>
        </div>
    </div>

    <!-- Modal Novo Usuário -->
    <div id="novo-usuario" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Cadastrar Novo Usuário</h2>
                <button class="close" onclick="closeModal('novo-usuario')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="form-novo-usuario" onsubmit="handleNovoUsuario(event)">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label for="user-nome">Nome Completo *</label>
                        <input type="text" class="form-control" id="user-nome" placeholder="Ex: João Silva Santos" required>
                    </div>
                    <div class="form-group">
                        <label for="user-username">Nome de Usuário *</label>
                        <input type="text" class="form-control" id="user-username" placeholder="Ex: joao.silva" required>
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label for="user-email">E-mail *</label>
                        <input type="email" class="form-control" id="user-email" placeholder="joao@empresa.com" required>
                    </div>
                    <div class="form-group">
                        <label for="user-telefone">Telefone</label>
                        <input type="text" class="form-control" id="user-telefone" placeholder="(11) 99999-9999">
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label for="user-senha">Senha *</label>
                        <input type="password" class="form-control" id="user-senha" placeholder="••••••••" required>
                    </div>
                    <div class="form-group">
                        <label for="user-confirma-senha">Confirmar Senha *</label>
                        <input type="password" class="form-control" id="user-confirma-senha" placeholder="••••••••" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="user-perfil">Perfil *</label>
                    <select class="form-control" id="user-perfil" required>
                        <option value="">Selecione o perfil</option>
                        <option value="admin">Administrador</option>
                        <option value="tecnico">Técnico</option>
                        <option value="operador">Operador</option>
                        <option value="visualizador">Visualizador</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="user-ativo" checked> Usuário Ativo
                    </label>
                </div>
                <div style=" margin-top: 25px;" class="usuario-acoes">
                    <button type="button" class="btn btn-cancelar"  onclick="closeModal('novo-usuario')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        Salvar Usuário
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Editar Usuário -->
    <div id="editar-usuario" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Editar Usuário</h2>
                <button class="close" onclick="closeModal('editar-usuario')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="form-editar-usuario" onsubmit="handleEditarUsuario(event)">
                <input type="hidden" id="edit-user-id">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label for="edit-user-nome">Nome Completo *</label>
                        <input type="text" class="form-control" id="edit-user-nome" placeholder="Ex: João Silva Santos" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-user-username">Usuário *</label>
                        <input type="text" class="form-control" id="edit-user-username" placeholder="Ex: joao.silva" required>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label for="edit-user-email">E-mail *</label>
                        <input type="email" class="form-control" id="edit-user-email" placeholder="joao@empresa.com" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-user-telefone">Telefone</label>
                        <input type="tel" class="form-control" id="edit-user-telefone" placeholder="(11) 99999-9999" maxlength="15">
                    </div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label for="edit-user-senha">Nova Senha (branco para manter)</label>
                        <input type="password" class="form-control" id="edit-user-senha" placeholder="••••••••" >
                    </div>
                    <div class="form-group">
                        <label for="edit-user-confirma-senha">Confirmar Nova Senha</label>
                        <input type="password" class="form-control" id="edit-user-confirma-senha" placeholder="••••••••" >
                    </div>
                </div>
                                
                <div class="form-group">
                    <label for="edit-user-perfil">Perfil *</label>
                    <select id="edit-user-perfil" class="form-control"  required>
                        <option value="">Selecione o perfil</option>
                        <option value="admin">Administrador</option>
                        <option value="tecnico">Técnico</option>
                        <option value="operador">Operador</option>
                        <option value="visualizador">Visualizador</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="edit-user-ativo" checked>
                        Usuário Ativo
                    </label>
                </div>
                <div style=" margin-top: 25px;" class="usuario-acoes">
                    <button type="button" class="btn btn-cancelar"  onclick="closeModal('editar-usuario')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        Atualizar
                    </button>
                </div>

            </form>
        </div>
    </div>





    <!-- Modal Nova Máquina -->
    <div id="nova-maquina" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Cadastrar Nova Máquina</h2>
                <button class="close" onclick="closeModal('nova-maquina')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="form-nova-maquina" onsubmit="handleNovaMaquina(event)">
                <div class="grid-2">
                    <div class="form-group">
                        <label for="maq-loja">Loja *</label>
                        <select class="form-control" id="maq-loja" required>
                            <option value="">Selecione a loja</option>
                            <!-- Carregado via API -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="maq-patrimonio">Patrimônio *</label>
                        <input type="text" class="form-control" id="maq-patrimonio" placeholder="Ex: MAQ-001" required>
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label for="maq-serie">Número de Série *</label>
                        <input type="text" class="form-control" id="maq-serie" placeholder="Ex: SER123456" required>
                    </div>
                    <div class="form-group">
                        <label for="maq-tipo">Tipo de Equipamento</label>
                        <select class="form-control" id="maq-tipo">
                            <option value="">Selecione</option>
                            <option value="Computador">Computador</option>
                            <option value="Impressora">Impressora</option>
                            <option value="Scanner">Scanner</option>
                            <option value="Roteador">Roteador</option>
                            <option value="Monitor">Monitor</option>
                            <option value="Notebook">Notebook</option>
                            <option value="Tablet">Tablet</option>
                            <option value="Projetor">Projetor</option>
                            <option value="Outro">Outro</option>
                        </select>
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label for="maq-marca">Marca</label>
                        <input type="text" class="form-control" id="maq-marca" placeholder="Ex: HP, Dell, Canon">
                    </div>
                    <div class="form-group">
                        <label for="maq-modelo">Modelo</label>
                        <input type="text" class="form-control" id="maq-modelo" placeholder="Ex: LaserJet Pro">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label for="maq-data-aquisicao">Data de Aquisição</label>
                        <input type="date" class="form-control" id="maq-data-aquisicao">
                    </div>
                    <div class="form-group">
                        <label for="maq-valor">Valor de Aquisição (R$)</label>
                        <input type="number" class="form-control" id="maq-valor" step="0.01" placeholder="0,00">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label for="maq-status">Status Operacional</label>
                        <select class="form-control" id="maq-status">
                            <option value="ativo">Ativo</option>
                            <option value="inativo">Inativo</option>
                            <option value="manutencao">Em Manutenção</option>
                            <option value="descartado">Descartado</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="maq-periodicidade">Periodicidade Preventiva (dias)</label>
                        <input type="number" class="form-control" id="maq-periodicidade" placeholder="90">
                    </div>
                </div>
                <div class="form-group">
                    <label for="maq-localizacao">Localização</label>
                    <input type="text" class="form-control" id="maq-localizacao" placeholder="Ex: Recepção, Sala 1, Depósito">
                </div>
                <div class="form-group">
                    <label for="maq-observacoes">Observações</label>
                    <textarea class="form-control" id="maq-observacoes" rows="3" placeholder="Observações adicionais sobre o equipamento"></textarea>
                </div>
                <div style=" margin-top: 25px;" class="maquina-acoes">
                    <button type="button" class="btn btn-cancelar" onclick="closeModal('nova-maquina')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        Salvar Máquina
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Nova Loja -->
    <div id="nova-loja" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Cadastrar Nova Loja</h2>
                <button class="close" onclick="closeModal('nova-loja')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="form-nova-loja" onsubmit="handleNovaLoja(event)">
                <div class="grid-2">
                    <div class="form-group">
                        <label for="loja-nome">Nome da Loja *</label>
                        <input type="text" class="form-control" id="loja-nome" placeholder="Ex: Filial Centro" required>
                    </div>
                    <div class="form-group">
                        <label for="loja-codigo">Código *</label>
                        <input type="text" class="form-control" id="loja-codigo" placeholder="Ex: CENTRO" required style="text-transform: uppercase;">
                    </div>
                </div>
                <div class="form-group">
                    <label for="loja-endereco">Endereço Completo</label>
                    <textarea class="form-control" id="loja-endereco" rows="2" placeholder="Rua, número, complemento, bairro"></textarea>
                </div>
                <div class="grid-3">
                    <div class="form-group">
                        <label for="loja-cidade">Cidade</label>
                        <input type="text" class="form-control" id="loja-cidade" placeholder="Ex: São Paulo">
                    </div>
                    <div class="form-group">
                        <label for="loja-estado">Estado</label>
                        <select class="form-control" id="loja-estado">
                            <option value="">Selecione</option>
                            <option value="AC">Acre</option>
                            <option value="AL">Alagoas</option>
                            <option value="AP">Amapá</option>
                            <option value="AM">Amazonas</option>
                            <option value="BA">Bahia</option>
                            <option value="CE">Ceará</option>
                            <option value="DF">Distrito Federal</option>
                            <option value="ES">Espírito Santo</option>
                            <option value="GO">Goiás</option>
                            <option value="MA">Maranhão</option>
                            <option value="MT">Mato Grosso</option>
                            <option value="MS">Mato Grosso do Sul</option>
                            <option value="MG">Minas Gerais</option>
                            <option value="PA">Pará</option>
                            <option value="PB">Paraíba</option>
                            <option value="PR">Paraná</option>
                            <option value="PE">Pernambuco</option>
                            <option value="PI">Piauí</option>
                            <option value="RJ">Rio de Janeiro</option>
                            <option value="RN">Rio Grande do Norte</option>
                            <option value="RS">Rio Grande do Sul</option>
                            <option value="RO">Rondônia</option>
                            <option value="RR">Roraima</option>
                            <option value="SC">Santa Catarina</option>
                            <option value="SP">São Paulo</option>
                            <option value="SE">Sergipe</option>
                            <option value="TO">Tocantins</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="loja-cep">CEP</label>
                        <input type="text" class="form-control" id="loja-cep" placeholder="00000-000" maxlength="9">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label for="loja-telefone">Telefone</label>
                        <input type="text" class="form-control" id="loja-telefone" placeholder="(11) 99999-9999">
                    </div>
                    <div class="form-group">
                        <label for="loja-email">E-mail</label>
                        <input type="email" class="form-control" id="loja-email" placeholder="loja@empresa.com">
                    </div>
                </div>
                <div class="form-group">
                    <label for="loja-responsavel">Responsável/Gerente</label>
                    <input type="text" class="form-control" id="loja-responsavel" placeholder="Nome do responsável pela loja">
                </div>
                <div class="form-group">
                    <div class="checkbox-container">
                        <input type="checkbox" id="loja-ativa" checked>
                        <label for="loja-ativa">Loja Ativa (operacional)</label>
                    </div>
                </div>
                <div style="text-align: right; margin-top: 25px;">
                    <button type="button" class="btn" style="background: #ccc; color: #666; margin-right: 10px;" onclick="closeModal('nova-loja')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        Salvar Loja
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Preventiva Máquina -->
<div id="preventiva-maquina" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Cadastro de Preventiva de Máquina</h2>
            <button class="close" onclick="closeModal('preventiva-maquina')">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <form id="form-preventiva-maquina" onsubmit="handlePreventivaMaquina(event)">
            <!-- ID oculto da preventiva -->
            

            <div class="grid-2">
                <div class="form-group">
                    <label for="preventiva-maquina_id">Máquina *</label>
                    <select class="form-control" id="preventiva-maquina_id" required>
                        <option value="">Selecione uma máquina</option>
                        <!-- Opções carregadas via API -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="preventiva-usuario_tecnico_id">Técnico Responsável *</label>
                    <select class="form-control" id="preventiva-usuario_tecnico_id" required>
                        <option value="">Selecione o técnico</option>
                        <!-- Opções carregadas via API -->
                    </select>
                </div>
            </div>

            <div class="grid-2">
                <div class="form-group">
                    
                    <label for="preventiva-tipo">Tipo *</label>
                    <select class="form-control" id="preventiva-tipo" required>
                        <option value="">Selecione o técnico</option>
                        <option value="limpeza">Limpeza</option>
                        <option value="calibragem">Calibragem</option>
                        <option value="troca_pecas">Troca de Peças</option>
                        <!-- Opções carregadas via API -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="preventiva-data_programada">Data Programada </label>
                    <input type="date" class="form-control" id="preventiva-data_programada" >
                </div>
            </div>

            <div class="form-group">
                <label for="preventiva-observacoes">Observações</label>
                <textarea class="form-control" id="preventiva-observacoes" rows="3" placeholder="Observações adicionais"></textarea>
            </div>

            <div class="form-group">
                <label for="preventiva-pecas_substituidas">Peças Substituídas</label>
                <textarea class="form-control" id="preventiva-pecas_substituidas" rows="2" placeholder="Listar peças substituídas"></textarea>
            </div>

            <div class="form-group">
                <label for="preventiva-tempo_execucao">Tempo de Execução (horas)</label>
                <input type="text" class="form-control" id="preventiva-tempo_execucao" placeholder="Ex: Só minutos" step="1" min="0">
            </div>

            <div style="margin-top: 25px;" class="preventiva-acoes">
                <button type="button" class="btn btn-cancelar" onclick="closeModal('preventiva-maquina')">Cancelar</button>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i>
                    Salvar Preventiva
                </button>
            </div>
        </form>
    </div>
</div>
<!-- Modal Preventiva Máquina -->
<div id="preventiva-maquina-editar" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Edição de Preventiva de Máquina</h2>
            <button class="close" onclick="closeModal('preventiva-maquina-editar')">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <form id="form-preventiva-maquina-editar" onsubmit="handlePreventivaMaquinaEditar(event)">
            
            <input type="hidden" id="preventiva-id-editar">

            <div class="grid-2">
                <div class="form-group">
                    <label for="preventiva-maquina_id-editar">Máquina *</label>
                    <select class="form-control" id="preventiva-maquina_id-editar" required>
                        <option value="">Selecione uma máquina</option>
                        
                    </select>
                </div>
                <div class="form-group">
                    <label for="preventiva-usuario_tecnico_id-editar">Técnico Responsável *</label>
                    <select class="form-control" id="preventiva-usuario_tecnico_id-editar" required>
                        <option value="">Selecione o técnico</option>
                        
                    </select>
                </div>
            </div>

            <div class="grid-2">
                <div class="form-group">
                    <label for="preventiva-tipo-editar">Tipo *</label>
                    <input type="text" class="form-control" id="preventiva-tipo-editar" placeholder="Ex: Preventiva, Corretiva" required>
                </div>
                <div class="form-group">
                    <label for="preventiva-data_programada-editar">Data Programada *</label>
                    <input type="date" class="form-control" id="preventiva-data_programada-editar" required>
                </div>
            </div>

            <div class="grid-2">
                
                <div class="form-group">
                    <label for="preventiva-status-editar">Status *</label>
                    <select class="form-control" id="preventiva-status-editar" required>
                        <option value="">Selecione o status</option>
                        <option value="em_andamento">Em Andamento</option>
                        <option value="programada">Programada</option>
                        <option value="concluida">Concluida</option>
                        <option value="cancelada">Cancelada</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="preventiva-checklist-editar">Checklist</label>
                <textarea class="form-control" id="preventiva-checklist-editar" rows="4" placeholder="Itens verificados no checklist"></textarea>
            </div>

            <div class="form-group">
                <label for="preventiva-observacoes-editar">Observações</label>
                <textarea class="form-control" id="preventiva-observacoes-editar" rows="3" placeholder="Observações adicionais"></textarea>
            </div>

            <div class="form-group">
                <label for="preventiva-pecas_substituidas-editar">Peças Substituídas</label>
                <textarea class="form-control" id="preventiva-pecas_substituidas-editar" rows="2" placeholder="Listar peças substituídas"></textarea>
            </div>

            <div class="form-group">
                <label for="preventiva-custos-editar">Custos (R$)</label>
                <input type="number" class="form-control" id="preventiva-custos-editar" step="0.01" placeholder="0,00">
            </div>

            <div class="form-group">
                <label for="preventiva-tempo_execucao-editar">Tempo de Execução (horas)</label>
                <input type="text" class="form-control" id="preventiva-tempo_execucao-editar" placeholder="Ex: em minutos" step="1" min="0">
            </div>

            <div style="margin-top: 25px;" class="preventiva-acoes">
                <button type="button" class="btn btn-cancelar" onclick="closeModal('preventiva-maquina-editar')">Cancelar</button>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i>
                    Editar Preventiva
                </button>
            </div>
        </form>
    </div>
</div>


    <!-- Modal Editar Máquina -->
        <div id="editar-maquina" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">Editar Máquina</h2>
                    <button class="close" onclick="closeModal('editar-maquina')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <form id="form-editar-maquina" onsubmit="handleEditarMaquina(event)">
                    <!-- ID oculto da máquina -->
                    <input type="hidden" id="edit-maq-id">
                    
                    <div class="grid-2">
                        <div class="form-group">
                            <label for="edit-maq-loja">Loja *</label>
                            <select class="form-control" id="edit-maq-loja" required>
                                <option value="">Selecione a loja</option>
                                <!-- Carregado via API -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="edit-maq-patrimonio">Patrimônio *</label>
                            <input type="text" class="form-control" id="edit-maq-patrimonio" placeholder="Ex: MAQ-001" required>
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label for="edit-maq-serie">Número de Série *</label>
                            <input type="text" class="form-control" id="edit-maq-serie" placeholder="Ex: SER123456" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-maq-tipo">Tipo de Equipamento</label>
                            <select class="form-control" id="edit-maq-tipo">
                                <option value="">Selecione</option>
                                <option value="Computador">Computador</option>
                                <option value="Impressora">Impressora</option>
                                <option value="Scanner">Scanner</option>
                                <option value="Roteador">Roteador</option>
                                <option value="Monitor">Monitor</option>
                                <option value="Notebook">Notebook</option>
                                <option value="Tablet">Tablet</option>
                                <option value="Projetor">Projetor</option>
                                <option value="Outro">Outro</option>
                            </select>
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label for="edit-maq-marca">Marca</label>
                            <input type="text" class="form-control" id="edit-maq-marca" placeholder="Ex: HP, Dell, Canon">
                        </div>
                        <div class="form-group">
                            <label for="edit-maq-modelo">Modelo</label>
                            <input type="text" class="form-control" id="edit-maq-modelo" placeholder="Ex: LaserJet Pro">
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label for="edit-maq-data-aquisicao">Data de Aquisição</label>
                            <input type="date" class="form-control" id="edit-maq-data-aquisicao">
                        </div>
                        <div class="form-group">
                            <label for="edit-maq-valor">Valor de Aquisição (R$)</label>
                            <input type="number" class="form-control" id="edit-maq-valor" step="0.01" placeholder="0,00">
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label for="edit-maq-status">Status Operacional</label>
                            <select class="form-control" id="edit-maq-status">
                                <option value="ativo">Ativo</option>
                                <option value="inativo">Inativo</option>
                                <option value="manutencao">Em Manutenção</option>
                                <option value="descartado">Descartado</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="edit-maq-periodicidade">Periodicidade Preventiva (dias)</label>
                            <input type="number" class="form-control" id="edit-maq-periodicidade" placeholder="90">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="edit-maq-localizacao">Localização</label>
                        <input type="text" class="form-control" id="edit-maq-localizacao" placeholder="Ex: Recepção, Sala 1, Depósito">
                    </div>
                
                    <div class="form-group">
                        <label for="edit-maq-observacoes">Observações</label>
                        <textarea class="form-control" id="edit-maq-observacoes" rows="3" placeholder="Observações adicionais sobre o equipamento"></textarea>
                    </div>
                    <div style="margin-top: 25px;" class="maquina-acoes">
                        <button type="button" class="btn btn-cancelar" onclick="closeModal('editar-maquina')">Cancelar</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            Atualizar Máquina
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <!-- Modal Editar Loja -->
        <div id="editar-loja" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">Editar Loja</h2>
                    <button class="close" onclick="closeModal('editar-loja')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <form id="form-editar-loja" onsubmit="handleEditarLoja(event)">
                    <!-- ID oculto da loja -->
                    <input type="hidden" id="edit-loja-id">

                    <div class="grid-2">
                        <div class="form-group">
                            <label for="edit-loja-nome">Nome da Loja *</label>
                            <input type="text" class="form-control" id="edit-loja-nome" placeholder="Ex: Filial Centro" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-loja-codigo">Código *</label>
                            <input type="text" class="form-control" id="edit-loja-codigo" placeholder="Ex: CENTRO" required style="text-transform: uppercase;">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="edit-loja-endereco">Endereço Completo</label>
                        <textarea class="form-control" id="edit-loja-endereco" rows="2" placeholder="Rua, número, complemento, bairro"></textarea>
                    </div>
                    <div class="grid-3">
                        <div class="form-group">
                            <label for="edit-loja-cidade">Cidade</label>
                            <input type="text" class="form-control" id="edit-loja-cidade" placeholder="Ex: São Paulo">
                        </div>
                        <div class="form-group">
                            <label for="edit-loja-estado">Estado</label>
                            <select class="form-control" id="edit-loja-estado">
                                <option value="">Selecione</option>
                                <!-- Opções de estado abaixo fornecidas -->
                                <option value="AC">Acre</option>
                                <option value="AL">Alagoas</option>
                                <option value="AP">Amapá</option>
                                <option value="AM">Amazonas</option>
                                <option value="BA">Bahia</option>
                                <option value="CE">Ceará</option>
                                <option value="DF">Distrito Federal</option>
                                <option value="ES">Espírito Santo</option>
                                <option value="GO">Goiás</option>
                                <option value="MA">Maranhão</option>
                                <option value="MT">Mato Grosso</option>
                                <option value="MS">Mato Grosso do Sul</option>
                                <option value="MG">Minas Gerais</option>
                                <option value="PA">Pará</option>
                                <option value="PB">Paraíba</option>
                                <option value="PR">Paraná</option>
                                <option value="PE">Pernambuco</option>
                                <option value="PI">Piauí</option>
                                <option value="RJ">Rio de Janeiro</option>
                                <option value="RN">Rio Grande do Norte</option>
                                <option value="RS">Rio Grande do Sul</option>
                                <option value="RO">Rondônia</option>
                                <option value="RR">Roraima</option>
                                <option value="SC">Santa Catarina</option>
                                <option value="SP">São Paulo</option>
                                <option value="SE">Sergipe</option>
                                <option value="TO">Tocantins</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="edit-loja-cep">CEP</label>
                            <input type="text" class="form-control" id="edit-loja-cep" placeholder="00000-000" maxlength="9">
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label for="edit-loja-telefone">Telefone</label>
                            <input type="text" class="form-control" id="edit-loja-telefone" placeholder="(11) 99999-9999">
                        </div>
                        <div class="form-group">
                            <label for="edit-loja-email">E-mail</label>
                            <input type="email" class="form-control" id="edit-loja-email" placeholder="loja@empresa.com">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="edit-loja-responsavel">Responsável / Gerente</label>
                        <input type="text" class="form-control" id="edit-loja-responsavel" placeholder="Nome do responsável pela loja">
                    </div>
                    <div class="form-group">
                        <div class="checkbox-container">
                            <input type="checkbox" id="edit-loja-ativa" checked>
                            <label for="edit-loja-ativa">Loja Ativa (operacional)</label>
                        </div>
                    </div>
                    <div style="text-align: right; margin-top: 25px;">
                        <button type="button" class="btn" style="background: #ccc; color: #666; margin-right: 10px;" onclick="closeModal('editar-loja')">Cancelar</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            Atualizar Loja
                        </button>
                    </div>
                </form>
            </div>
        </div>



    <!-- Modal definir tecxnico -->
<div id="chamado-tecnico" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Definir Técnico Chamado</h2>
            <button class="close" onclick="closeModal('chamado-tecnico')">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <form id="form-chamado-maquina" onsubmit="handleChamadoTecnico(event)">
            <!-- ID oculto da preventiva -->
            <input type="hidden" id="chamado-id">
            <input type="hidden" id="chamado-status">
            
                <div class="form-group">
                    <label for="chamado-usuario_tecnico_id">Técnico Responsável *</label>
                    <select class="form-control" id="chamado-usuario_tecnico_id" required>
                        <option value="">Selecione o técnico</option>
                        <!-- Opções carregadas via API -->
                    </select>
                </div>

                <div class="chamado-acoes">
                    <button type="button" class="btn btn-cancelar"  onclick="closeModal('chamado-tecnico')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        Atribuir
                    </button>
                </div>
        </form>    
    </div>
</div>
    <!-- Modal definir status chamado -->
<div id="status-chamado" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Definir Status Chamado</h2>
            <button class="close" onclick="closeModal('status-chamado')">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <form id="form-chamado-status" onsubmit="handleChamadoStatus(event)">
            <!-- ID oculto da preventiva -->
            <input type="hidden" id="status-chamado-id">
            <input type="hidden" id="status-chamado-status">
            
                <div class="form-group" id="chamado-select_status"></div>

                <div class="chamado-acoes">
                    <button type="button" class="btn btn-cancelar"  onclick="closeModal('status-chamado')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        Atribuir
                    </button>
                </div>
        </form>    
    </div>
</div>
    <!-- Modal definir status chamado -->
<div id="status-preventiva" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Definir Status Preventiva</h2>
            <button class="close" onclick="closeModal('status-preventiva')">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <form id="form-preventiva-status" onsubmit="handlePreventivaStatus(event)">
            <!-- ID oculto da preventiva -->
            <input type="hidden" id="status-preventiva-id">
            <input type="hidden" id="status-preventiva-status">
            
                <div class="form-group" id="preventiva-select_status"></div>

                <div class="preventiva-acoes">
                    <button type="button" class="btn btn-cancelar"  onclick="closeModal('status-preventiva')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        Atribuir
                    </button>
                </div>
        </form>    
    </div>
</div>

<!-- Modal Nova Transferência -->
    <div id="nova-transferencia" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Nova Transferência de Equipamento</h2>
                <button class="close" onclick="closeModal('nova-transferencia')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="form-nova-transferencia" onsubmit="handleNovaTransferencia(event)">
                    <div class="form-group">
                        <label for="filial-origem">Filial de Origem *</label>
                        <select class="form-control" id="filial-origem" required>
                            <option value="">Selecione a filial de origem</option>
                            <option value="1">Filial Centro</option>
                            <option value="2">Filial Norte</option>
                            <option value="3">Filial Sul</option>
                            <option value="4">Filial Leste</option>
                            <option value="5">Filial Oeste</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="filial-destino">Filial de Destino *</label>
                        <select class="form-control" id="filial-destino" required>
                            <option value="">Selecione a filial de destino</option>
                            <option value="central">Central de Manutenção</option>
                            <option value="1">Filial Centro</option>
                            <option value="2">Filial Norte</option>
                            <option value="3">Filial Sul</option>
                            <option value="4">Filial Leste</option>
                            <option value="5">Filial Oeste</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="maquina">Máquina/Equipamento *</label>
                        <select class="form-control" id="maquina" required>
                            <option value="">Selecione a máquina</option>
                            <option value="lavadora">Lavadora Industrial</option>
                            <option value="secadora">Secadora</option>
                            <option value="prensa">Prensa</option>
                            <option value="empacotadora">Empacotadora</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="quantidade">Quantidade *</label>
                            <input type="number" class="form-control" id="quantidade" min="1" value="1" required>
                        </div>

                        <div class="form-group">
                            <label for="tipo-transferencia">Tipo de Transferência *</label>
                            <select class="form-control" id="tipo-transferencia" required>
                                <option value="">Selecione o tipo</option>
                                <option value="conserto">Conserto</option>
                                <option value="emprestimo">Empréstimo Temporário</option>
                                <option value="definitivo">Definitivo</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="patrimonio">Patrimônio</label>
                            <input type="text" class="form-control" id="patrimonio" placeholder="Ex: PAT123456">
                        </div>

                        <div class="form-group">
                            <label for="serie-transferencia">Número de Série</label>
                            <input type="text" class="form-control" id="serie-transferencia" placeholder="Ex: SER123456">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="observacoes">Observações</label>
                        <textarea class="form-control" id="observacoes" rows="3" placeholder="Adicione observações sobre a transferência..."></textarea>
                    </div>

                    <div class="form-acoes">
                        <button type="button" class="btn btn-cancelar" onclick="closeModal('nova-transferencia')">Cancelar</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            Registrar Transferência
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Listar Transferências -->
    <div id="listar-transferencias" class="modal">
        <div class="modal-content" style="max-width: 1000px;">
            <div class="modal-header">
                <h2 class="modal-title">Transferências de Equipamentos</h2>
                <button class="close" onclick="closeModal('listar-transferencias')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- Seção de Filtros -->
                <div class="filter-section" style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px; display: flex; gap: 15px; flex-wrap: wrap; align-items: center;">
                    <label for="filter-filial-origem" style="font-weight: 600; color: #555; display: flex; align-items: center; gap: 5px;">
                        <i class="fas fa-filter"></i> Filtros:
                    </label>
                    <select class="form-control" id="filter-filial-origem" style="width: auto; min-width: 170px;">
                        <option value="">Filial de Origem</option>
                        <option value="Filial Centro">Filial Centro</option>
                        <option value="Filial Norte">Filial Norte</option>
                        <option value="Filial Sul">Filial Sul</option>
                        <option value="Filial Leste">Filial Leste</option>
                        <option value="Filial Oeste">Filial Oeste</option>
                    </select>
                    <select class="form-control" id="filter-filial-destino" style="width: auto; min-width: 170px;">
                        <option value="">Filial de Destino</option>
                        <option value="Central de Manutenção">Central de Manutenção</option>
                        <option value="Filial Centro">Filial Centro</option>
                        <option value="Filial Norte">Filial Norte</option>
                        <option value="Filial Sul">Filial Sul</option>
                        <option value="Filial Leste">Filial Leste</option>
                        <option value="Filial Oeste">Filial Oeste</option>
                    </select>
                    <select class="form-control" id="filter-tipo" style="width: auto; min-width: 170px;">
                        <option value="">Tipo de Transferência</option>
                        <option value="conserto">Conserto</option>
                        <option value="emprestimo">Empréstimo</option>
                        <option value="definitivo">Definitivo</option>
                    </select>
                    <select class="form-control" id="filter-situacao" style="width: auto; min-width: 150px;">
                        <option value="">Todos os Status</option>
                        <option value="em-conserto">Em Conserto</option>
                        <option value="concluido">Concluído</option>
                        <option value="ativo">Ativo</option>
                        <option value="devolvido">Devolvido</option>
                        <option value="perda-total">Perda Total</option>
                    </select>
                    <button class="btn btn-secondary btn-small" onclick="limparFiltros()" style="margin-left: auto;">
                        <i class="fas fa-eraser"></i>
                        Limpar
                    </button>
                </div>

                <div class="transferencias-lista" id="lista-transferencias">
                    <!-- Transferências serão carregadas aqui -->
                </div>
            </div>
        </div>
    </div>

</body>

<script src="main3.js"  defer></script>
</html>